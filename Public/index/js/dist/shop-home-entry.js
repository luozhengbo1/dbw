!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="http://weixin.keruyun.com/",t(t.s=1054)}({0:function(e,t){e.exports=common},1:function(e,t,r){e.exports=r(0)(45)},10:function(e,t,r){e.exports=r(0)(327)},1054:function(e,t,r){e.exports=r(1055)},1055:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(1),a=n(o),i=r(1056),s=n(i),u=r(1057),c=n(u);(0,n(r(31)).default)(a.default.createElement(c.default,null),s.default)},1056:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=o.default.from({shopDetail:{},shopIntroImgs:[],menuList:[],errorMessage:"",userInfo:{},serviceCardVO:{}});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],r=t.type,n=t.payload;switch(r){case"SET_SHOP_DETAIL":return e.set("shopDetail",n||{});case"SET_SHOP_INTRO_IMGS":return e.set("shopIntroImgs",n||[]);case"SET_MENU_LIST":return e.set("menuList",n||[]);case"SET_ERROR_MSG":return e.set("errorMessage",n||"");case"SET_USER_INFO":return e.set("userInfo",n||{});case"SET_SERVICE_CARDVO":return e.set("serviceCardVO",n||{})}return e}},1057:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(12);var u=r(1),c=n(u),l=r(7),d=r(1058),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),f=r(1059),m=n(f),h=r(393),M=n(h),I=r(395),y=n(I),g=r(1062),A=n(g),j=r(23),D=n(j),N=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.fetchUserInfo()}},{key:"componentDidMount",value:function(){this.props.fetchShopDetail()}},{key:"render",value:function(){var e=this.props,t=e.shopIntroImgs,r=e.fetchShopDetail,n=e.shopDetail,o=e.getCheckQueue,a=e.menuList,i=e.userInfo;return c.default.createElement("div",{className:"o-bg-grey o-credit"},c.default.createElement(A.default,{fetchShopDetail:r,shopDetail:n,userInfo:i,serviceCardVO:this.props.serviceCardVO}),c.default.createElement(M.default,{shopIntroImgs:t}),c.default.createElement("div",{className:"o-mb"}),c.default.createElement(y.default,{menuList:a,getCheckQueue:o,shopDetail:n}),c.default.createElement("div",{className:"o-mb"}),c.default.createElement(m.default,{shopDetail:n}),this.props.errorMessage&&c.default.createElement(D.default,{clearErrorMsg:this.props.clearErrorMsg,errorMessage:this.props.errorMessage}))}}]),t}(c.default.Component);N.propTypes={fetchShopDetail:c.default.PropTypes.func,getCheckQueue:c.default.PropTypes.func,shopDetail:c.default.PropTypes.object,shopIntroImgs:c.default.PropTypes.array,menuList:c.default.PropTypes.array,clearErrorMsg:c.default.PropTypes.func,errorMessage:c.default.PropTypes.string,fetchUserInfo:c.default.PropTypes.func,userInfo:c.default.PropTypes.object,serviceCardVO:c.default.PropTypes.object},t.default=(0,l.connect)(function(e){return e},p)(N)},1058:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUserInfo=t.getCheckQueue=t.fetchShopDetail=void 0,r(10),r(9);var n=r(16),o=r(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r(5),s=(0,n.createAction)("SET_SHOP_DETAIL",function(e){return e}),u=(0,n.createAction)("SET_SHOP_INTRO_IMGS",function(e){return e}),c=(0,n.createAction)("SET_MENU_LIST",function(e){return e}),l=(0,n.createAction)("SET_ERROR_MSG",function(e){return e}),d=(0,n.createAction)("SET_USER_INFO",function(e){return e}),p=(0,n.createAction)("SET_SERVICE_CARDVO",function(e){return e}),f=(0,i.getUrlParam)("shopId"),m=(0,i.getUrlParam)("tableId");t.fetchShopDetail=function(){return function(e){var t=a.default.shopDetailURL+".json?shopId="+f;m&&(t=a.default.shopDetailURL+".json?shopId="+f+"&tableId="+m),fetch(t,a.default.requestOptions).then(function(e){return e.ok||console.log("获取外送基本信息失败..."),e.json()}).then(function(t){if("200"===t.code){var r=t.data,n=r.shop,o=r.detailLogoList,i=r.menuList,l=r.serviceCardVO;i.forEach(function(e){switch(e.uniqueId){case"TS":e.link=a.default.getMoreTSDishesURL+"?shopId="+n.commercialID+"&type=TS";break;case"WM":e.link=a.default.getMoreWMDishesURL+"?shopId="+n.commercialID+"&type=WM";break;case"YD":e.link=a.default.bookingURL+"?shopId="+n.commercialID;break;case"PD":break;case"HY":e.link=a.default.memberIndexURL+"?shopId="+n.commercialID+"&fromShopHome=1";break;case"WD":e.link=a.default.mineIndexURL+"?shopId="+n.commercialID+"&fromShopHome=1"}}),e(p(l)),e(s(n)),e(u(o)),e(c(i))}})}},t.getCheckQueue=function(){return function(e,t){var r=t().shopDetail.commercialID;fetch(a.default.checkQueueAPI+"?shopId="+r,a.default.requestOptions).then(function(e){return e.json()}).then(function(t){var n=t.data,o=t.code,i=t.msg;switch(o){case"200":n.queueTip?location.href=a.default.queueDetailURL+"?shopId="+r+"&orderSyn="+n.orderSyn:location.href=a.default.queueInfoURL+"?shopId="+r;break;case"NOT_LOGIN":location.href=a.default.queueInfoURL+"?shopId="+r;break;default:e(l(i))}})}},t.fetchUserInfo=function(){return function(e,t){fetch(a.default.individualAPI+"?shopId="+f,a.default.requestOptions).then(function(e){return e.json()}).then(function(t){var r=t.data;switch(t.code){case"200":e(d(r));break;case"NOT_LOGIN":e(d())}})}};t.clearErrorMsg=function(){return function(e,t){e(l(""))}}},1059:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),c=n(u),l=r(4),d=n(l),p=r(132),f=n(p),m=r(1060),h=n(m),M=r(13),I=n(M),y=r(5),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(y),A=g.formatOpenTime,j=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={isShownPhoneList:!1},r.openMap=r.openMap.bind(r),r.showPhoneListLayer=r.showPhoneListLayer.bind(r),r.closePhoneListLayer=r.closePhoneListLayer.bind(r),r}return i(t,e),s(t,[{key:"componentWillMount",value:function(){}},{key:"setShopTitle",value:function(){var e=this.props.shopDetail,t=e.commercialName,r=e.openStatus,n=e.commercialLogo;return this.props.shopHomeScan?null:c.default.createElement("li",{className:"o-list__item c-option"},c.default.createElement("div",{className:"o-media"},c.default.createElement("span",null,c.default.createElement(I.default,{className:"o-media__img",style:{width:48,borderRadius:4},src:n||f.default,alt:""})),c.default.createElement("div",{className:"o-media__body o-media__body--centered",style:{paddingLeft:5}},c.default.createElement("div",{className:"c-description"},c.default.createElement("div",{className:"c-description__title"},t),c.default.createElement("div",{className:"c-description__body"},c.default.createElement("span",{className:(0,d.default)("o-label",{"o-label--primary":r,"o-label--disabled":!r})},r?"营业中":"已打烊"))))))}},{key:"setShopTime",value:function(){var e=this.props.shopDetail.openTimeList,t=A(e);return c.default.createElement("li",{className:"o-list__item c-option"},c.default.createElement("div",{className:"c-option__title-icon"},c.default.createElement("i",{className:"o-icon-time"})),c.default.createElement("div",{className:"c-option__body"},"营业时间：",t||"未配置"))}},{key:"setShopAddress",value:function(){var e=this.props.shopDetail.commercialAdress;return c.default.createElement("li",{className:"o-list__item c-option",onClick:this.openMap},c.default.createElement("div",{className:"c-option__title-icon"},c.default.createElement("i",{className:"o-icon-location"})),c.default.createElement("div",{className:"o-text-ellipsis c-option__body"},c.default.createElement("div",{className:"o-text-ellipsis"},e)),c.default.createElement("div",{className:"c-option__ending"},c.default.createElement("i",{className:"o-icon-arrow--right"})))}},{key:"setShopPhoneNumber",value:function(){var e=this.props.shopDetail,t=e.serviceMobile,r=e.commercialPhone;return c.default.createElement("li",{className:"o-list__item c-option",onClick:this.showPhoneListLayer},c.default.createElement("div",{className:"c-option__title-icon"},c.default.createElement("i",{className:"o-icon-phone"})),c.default.createElement("div",{className:"c-option__body"},t?t+" ":"",r||"",t||r?"":"暂无"),c.default.createElement("div",{className:"c-option__ending"},c.default.createElement("i",{className:"o-icon-arrow--right"})))}},{key:"setPhoneListLayer",value:function(){var e=this.props.shopDetail,t=e.serviceMobile,r=e.commercialPhone,n=[];return n=t&&r?[t,r]:r?[r]:t?[t]:["暂无"],c.default.createElement(h.default,{phoneList:n,show:this.state.isShownPhoneList,closePhoneListLayer:this.closePhoneListLayer})}},{key:"openMap",value:function(e){e.preventDefault();var t=this.props.shopDetail,r=t.latlong,n=t.commercialName,o=t.commercialAdress;document.location.href="http://api.map.baidu.com/marker?location="+r+"                              &title="+encodeURIComponent(n)+"&content                              ="+encodeURIComponent(o)+"&output=html&src=客如云"}},{key:"showPhoneListLayer",value:function(e){e.preventDefault(),this.setState({isShownPhoneList:!0})}},{key:"closePhoneListLayer",value:function(e){e.preventDefault(),this.setState({isShownPhoneList:!1})}},{key:"render",value:function(){var e=this.setShopTime(),t=this.setShopAddress(),r=this.setShopPhoneNumber(),n=this.setPhoneListLayer();return c.default.createElement("div",{className:"o-mb"},c.default.createElement("ul",{className:"o-list o-border--top o-border--bottom"},e,r,t),n)}}]),t}(c.default.Component);j.propTypes={fetchShopDetail:c.default.PropTypes.func,shopDetail:c.default.PropTypes.object,shopHomeScan:c.default.PropTypes.bool},t.default=j},1060:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(1061);var u=r(1),c=n(u),l=r(4),d=n(l),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("div",{className:(0,d.default)("phone-list-layer",{"layer-show":this.props.show})},c.default.createElement("ul",{className:(0,d.default)("phone-list",{"list-show":this.props.show})},this.props.phoneList.map(function(e,t){return c.default.createElement("li",{key:t,className:"phone-item"},c.default.createElement("a",{href:"tel:"+e},e))}),c.default.createElement("li",{className:"phone-item"},c.default.createElement("button",{type:"button",className:"btn-cancel",onClick:this.props.closePhoneListLayer},"取消"))))}}]),t}(c.default.Component);p.propTypes={phoneList:c.default.PropTypes.array,show:c.default.PropTypes.bool,closePhoneListLayer:c.default.PropTypes.func},t.default=p},1061:function(e,t){},1062:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),c=n(u),l=r(13),d=n(l),p=r(5),f=r(3),m=n(f);r(1063);var h=r(50),M=r(4),I=(0,p.getUrlParam)("tableId"),y=(0,p.getUrlParam)("shopId"),g=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"getShopCardName",value:function(){var e=this.props.shopDetail,t=e.commercialName,r=e.openStatus,n=e.commercialLogo,o=e.serviceCardVO;return c.default.createElement("div",{className:"shop-card_top"},c.default.createElement("ul",{className:"o-list o-list--modify o-border--top o-border--bottom"},c.default.createElement("li",{className:"o-list__item c-option o-pb c-option--modify"},c.default.createElement("div",{className:M("o-media",{"o-media--modify":o||I})},c.default.createElement("span",null,c.default.createElement(d.default,{src:n||h,alt:"",className:"shop-card-img"})),c.default.createElement("div",{className:"o-media__body o-media__body--centered"},c.default.createElement("div",{className:"c-description"},c.default.createElement("div",{className:"c-description__title c-description__title--modify o-fz--16"},t),c.default.createElement("div",{className:"c-description__body"},c.default.createElement("span",{className:"o-label o-label-dark o-fz--14"},r?"营业中":"已打烊"))))))))}},{key:"getCardItems",value:function(){var e=this.props,t=e.serviceCardVO,r=e.shopDetail,n=t.memberVO,o=t.cardItems,a=t.tableAreaDesc,i="",s="",u="";return 0===r.diningForm?(i=m.default.dishMenu4DinnerURL+"?shopId="+y+"&type=TS",s=m.default.dishMenu4DinnerURL+"?shopId="+y+"&type=TS&addDishes=true",u="/order/tradeDetailUncheck?type=TS&shopId="+y):(i=m.default.dishMenu4DinnerURL+"?shopId="+y+"&type=TS",u=m.default.orderallDetailURL+"?type=TS&shopId="+y),t?!n&&o&&0===o.length&&a?this.cardNoLoginNoOrder(t,i):n&&o&&0===o.length?this.cardLoginNoOrder(t,i):!o||0===o.length||this.cardLoginAndOrder(t,u,s):null}},{key:"getDishway_",value:function(e){var t=this.props.shopDetail,r=t.serviceApproach,n=t.diningForm,o="";return 0===n?o=e.tableAreaDesc:1===n&&("totable,pickup"===r||"pickup,totable"===r?o=e.tableAreaDesc:"totable"===r?o="送餐到桌":"pickup"===r&&(o="前台取餐")),o}},{key:"cardNoLoginNoOrder",value:function(e,t){var r=this.props.serviceCardVO,n="&tableId="+I;return!r.hasActiveOrder&&c.default.createElement("div",null,c.default.createElement("div",{className:"shop-card_box o-pr o-br o-pl o-mt"},c.default.createElement("div",{className:"card-info card-info--modify o-pl o-pr"},c.default.createElement("div",{className:"card-info-customer o-pb"},c.default.createElement("span",{className:"fr o-fz--16 o-label"},this.getDishway_(e))),c.default.createElement("div",{className:"o-mb clear--modify"},c.default.createElement("a",{href:""+t+(I?n:""),className:"o-label o-label--big o-ta--c o-mt o-fz--18",style:{fontSize:"18px",marginTop:"30px"}},"开始点餐")))))}},{key:"cardLoginNoOrder",value:function(e,t){var r=this.props.serviceCardVO,n="&tableId="+I;return!r.hasActiveOrder&&c.default.createElement("div",null,c.default.createElement("div",{className:"shop-card_box o-pr o-br o-pl o-mt"},c.default.createElement("div",{className:"card-info card-info--modify o-pl o-pr"},c.default.createElement("div",{className:"card-info-customer o-pb"},c.default.createElement("span",{className:"fl"},c.default.createElement(d.default,{src:e.memberVO.iconUri||h,alt:"",className:"shop-card-img shop-card--small"})),c.default.createElement("span",{className:"o-fz--18 fl shop-card-name",style:{fontWeight:500}},e.memberVO.name||e.memberVO.mobile),c.default.createElement("span",{className:"fr o-label"},this.getDishway_(e))),c.default.createElement("div",{className:"o-mb clear--modify"},c.default.createElement("a",{href:""+t+(I?n:""),className:"o-label o-label--big o-ta--c o-mt",style:{fontSize:"18px"}},"开始点餐")))))}},{key:"cardLoginAndOrder",value:function(e,t,r){var n=this,o=this.props.shopDetail.diningForm;return c.default.createElement("div",null,e.cardItems.map(function(e,a){var i=encodeURIComponent("/order/orderallDetail?shopId="+y+"&orderId="+e.tradeId+"&listEntry=true"),s="",u=t+"&orderId="+e.tradeId,l=e.tableSyn||I?"&tableId="+(e.tableSyn||I):"";switch(4!==e.orderStatus&&6!==e.orderStatus&&7!==e.orderStatus||0!==o||(u="/order/orderallDetail?shopId="+y+"&orderId="+e.tradeId),4===e.orderStatus||6===e.orderStatus||e.orderStatus,e.orderStatus){case 1:s="待确认";break;case 3:s="已确认";break;case 300:s="等待商户确认加菜";break;case 4:s="已完成";break;case 6:s="已作废";break;case 7:s="已拒绝"}return e.checkoutBtn&&(s="待支付"),c.default.createElement("div",{key:a},c.default.createElement("div",{className:"shop-card_box o-pr o-br o-pl o-mt"},c.default.createElement("div",{className:"card-info card-info--modify o-pl o-pr"},c.default.createElement("div",{className:"card-info-customer o-pb o-mb"},c.default.createElement("span",{className:"o-fz--16 fl",style:{fontWeight:500}},s),c.default.createElement("span",{className:"fr o-label"},n.getDishway_(e))),c.default.createElement("div",{className:"clear--modify o-ta--l"},c.default.createElement("p",{className:"o-fz--14"},"已点",c.default.createElement("span",{style:{color:"#ff3240",padding:"0 3px"}},e.allDishNum),"份菜")),c.default.createElement("div",{className:"clear--modify o-ta--l"},c.default.createElement("p",{className:"o-fz--14 o-label p-overflow",style:{width:"100%"}},e.allDish)),c.default.createElement("div",{className:"clear--modify o-ta--r"},0===o&&(300===e.orderStatus||1===e.orderStatus||3===e.orderStatus)&&c.default.createElement("a",{href:""+r+l,className:"o-label o-label--small o-ta--c o-mt"},"加菜"),1===o&&e.checkoutBtn&&c.default.createElement("a",{href:"/shop/payDetail?shopId="+y+"&orderId="+e.tradeId+"orderType=TS&returnUrl="+i,className:"o-label o-label--small o-ta--c o-mt",onTouchTap:function(t){n.setStorage(o,e.checkoutBtn,i)}},"去支付"),c.default.createElement("a",{href:""+u+l,className:"o-label o-label--small o-ta--c o-mt"},"查看详情")))))}))}},{key:"setStorage",value:function(e,t,r){1===e&&t&&sessionStorage.setItem("rurl_payDetaill",JSON.stringify(r))}},{key:"render",value:function(){var e=this.getShopCardName(),t=this.getCardItems();return c.default.createElement("div",{className:M("o-flex shop-card o-mb",{"o-pb":I})},c.default.createElement("div",{className:"o-flex__fluid o-pb",style:{width:"100%"}},e,t))}}]),t}(c.default.Component);g.propTypes={fetchShopDetail:c.default.PropTypes.func,shopDetail:c.default.PropTypes.object,userInfo:c.default.PropTypes.object,serviceCardVO:c.default.PropTypes.object},t.default=g},1063:function(e,t){},11:function(e,t,r){e.exports=r(0)(98)},12:function(e,t){},13:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return"https:"===location.protocol}function s(e){if(!e)return e;var t=[{match:function(e){return 0===e.indexOf("http://kry-official.qiniudn.com/")},process:function(e){return e.replace("http://kry-official.qiniudn.com/","https://img.keruyun.net")}},{match:function(e){return/^http:\/\/img\.keruyun\.(net|com)/i.test(e)},process:function(e){return e.replace("http://","https://")}}],r=t.filter(function(t){return t.match(e)})[0];return r?r.process(e):e}Object.defineProperty(t,"__esModule",{value:!0});var u,c,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),p=function(e){return e&&e.__esModule?e:{default:e}}(d),f=(c=u=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(r,"handleImageLoadError",{enumerable:!0,writable:!0,value:function(e){var t=e.target,n=r.props.loadErrorImageSrc;-1===r._loadedImages.indexOf(t.src)&&(r._loadedImages.push(t.src),n&&(t.src=n))}}),r._loadedImages=[],r}return a(t,e),l(t,null,[{key:"getFinalImageUrl",value:function(e){return i()?s(e):e}}]),l(t,[{key:"render",value:function(){var e=this.props,r=e.src,n=e.alt,o=e.className,a=e.style,i=e.role,s=t.getFinalImageUrl(r);return s?p.default.createElement("img",{className:o,src:s,alt:n,onError:this.handleImageLoadError,style:a,role:i}):p.default.createElement("span",{className:o,style:a})}}]),t}(p.default.Component),Object.defineProperty(u,"propTypes",{enumerable:!0,writable:!0,value:{src:p.default.PropTypes.string,alt:p.default.PropTypes.string,role:p.default.PropTypes.string,className:p.default.PropTypes.string,loadErrorImageSrc:p.default.PropTypes.string,style:p.default.PropTypes.object}}),c);t.default=f},132:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI1QzMxMTM1MzIxOTExRTY5RUYwREEwNEQzRUIyRkQyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI1QzMxMTM2MzIxOTExRTY5RUYwREEwNEQzRUIyRkQyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjVDMzExMzMzMjE5MTFFNjlFRjBEQTA0RDNFQjJGRDIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjVDMzExMzQzMjE5MTFFNjlFRjBEQTA0RDNFQjJGRDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5E/7b4AAAIXUlEQVR42uzd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"},14:function(e,t,r){e.exports=r(0)(342)},16:function(e,t,r){e.exports=r(0)(258)},18:function(e,t,r){e.exports=r(0)(257)},19:function(e,t,r){"use strict";var n=function(e){return function(t){return function(r){console.log("dispatching",r);var n=t(r);return console.log("next state",e.getState()),n}}};e.exports=n},21:function(e,t,r){e.exports=r(0)(320)},22:function(e,t,r){e.exports=r(0)(275)},23:function(e,t,r){"use strict";var n=r(1),o=r(24);e.exports=n.createClass({displayName:"Toast",propTypes:{clearErrorMsg:n.PropTypes.func.isRequired,errorMessage:n.PropTypes.string.isRequired,timeout:n.PropTypes.number},getDefaultProps:function(){return{timeout:1500}},componentWillMount:function(){var e=this.props,t=e.clearErrorMsg,r=e.timeout;-1!==r&&setTimeout(function(){t()},r)},render:function(){var e=this.props.errorMessage;return n.createElement("div",{className:"c-toast",onTouchTap:function(e){e.preventDefault(),e.stopPropagation()}},n.createElement("div",{className:"c-toast__content"},n.createElement("img",{src:o,style:{width:28},alt:""}),e))}})},24:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjU1cHgiIGhlaWdodD0iNTVweCIgdmlld0JveD0iMCAwIDU1IDU1IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0MCAoMzM3NjIpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPnRvYXN0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IueUqOaIt+iuvue9rl/ph43orr7lr4bnoIEtY29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0Mi4wMDAwMDAsIC01OTYuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxnIGlkPSJ0b2FzdDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2Mi4wMDAwMDAsIDU2NC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDcuNSwzMiBDOTIuMzExOTc5MiwzMiA4MCw0NC4zMTE5NzkyIDgwLDU5LjUgQzgwLDc0LjY4ODAyMDggOTIuMzExOTc5Miw4NyAxMDcuNSw4NyBDMTIyLjY4ODAyMSw4NyAxMzUsNzQuNjg4MDIwOCAxMzUsNTkuNSBDMTM1LDQ0LjMxMTk3OTIgMTIyLjY4ODAyMSwzMiAxMDcuNSwzMiBMMTA3LjUsMzIgWiBNMTA1LjEzMDQxNyw0Ni4yNTg3NSBDMTA1LjEzMDQxNyw0NC45Mjk1ODMzIDEwNi4xOTE0NTgsNDMuODUxMzU0MiAxMDcuNSw0My44NTEzNTQyIEMxMDguODA4NTQyLDQzLjg1MTM1NDIgMTA5Ljg2OTU4Myw0NC45Mjk1ODM0IDEwOS44Njk1ODMsNDYuMjU4NzUgTDEwOS44Njk1ODMsNjMuMTExNjY2NyBDMTA5Ljg2OTU4Myw2NC40NDA4MzM0IDEwOC44MDg1NDIsNjUuNTE5MDYyNSAxMDcuNSw2NS41MTkwNjI1IEMxMDYuMTkxNDU4LDY1LjUxOTA2MjUgMTA1LjEzMDQxNyw2NC40NDA4MzMzIDEwNS4xMzA0MTcsNjMuMTExNjY2NyBMMTA1LjEzMDQxNyw0Ni4yNTg3NSBMMTA1LjEzMDQxNyw0Ni4yNTg3NSBaIE0xMDcuNSw3NS4xNDg2NDU4IEMxMDUuNTM3MTg4LDc1LjE0ODY0NTggMTAzLjk0NTYyNSw3My41MzE4NzUgMTAzLjk0NTYyNSw3MS41MzgxMjUgQzEwMy45NDU2MjUsNjkuNTQ0Mzc1IDEwNS41MzcxODgsNjcuOTI2NDU4MyAxMDcuNSw2Ny45MjY0NTgzIEMxMDkuNDYzOTU4LDY3LjkyNjQ1ODMgMTExLjA1NDM3NSw2OS41NDMyMjkxIDExMS4wNTQzNzUsNzEuNTM4MTI1IEMxMTEuMDU0Mzc1LDczLjUzMTg3NSAxMDkuNDYzOTU4LDc1LjE0ODY0NTggMTA3LjUsNzUuMTQ4NjQ1OCBMMTA3LjUsNzUuMTQ4NjQ1OCBaIiBpZD0idG9hc3QiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},3:function(e,t,r){"use strict";function n(e){return"object"===("undefined"==typeof location?"undefined":o(location))?location.protocol+"//"+location.hostname:"http://"+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=void 0,i=void 0,s=void 0;a=""+n("https://wx.keruyun.net/wx-ui/prod/static/dist-c99515412be8241b8778/weixin.keruyun.com"),s="https://wx.keruyun.net/wx-ui/prod/static/dist-c99515412be8241b8778/wxws.keruyun.com",i={method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"}},e.exports={takeawayDishListAPI:a+"/takeaway/dishAll.json",takeawayShopInfoAPI:a+"/takeaway/orderPageInfo.json",orderallDishListAPI:a+"/orderall/dishAll.json",orderallShopInfoAPI:a+"/orderall/orderPageInfo.json",orderDineInAPi:a+"/orderall/dishBox.json",orderDineInTableListAPI:a+"/orderall/tableInfoList.json",orderTakeAwayAPi:a+"/takeaway/dishBox.json",orderCouponsAPI:a+"/coupon/getCanUseCoupons.json",orderWeixinGiftCardsAPI:a+"/coupon/getWeixinGiftCards.json",orderDiscountInfoAPI:a+"/shop/discountInfo.json",orderDinnerStatementAPI:a+"/orderall/settlement4Dinner.json",orderDinnerStatementZeroAPI:a+"/pay/pay4Zero.json",submitTSOrderAPI:a+"/orderall/subOrder.json",submitWMOrderAPI:a+"/takeaway/subOrder.json",userAddressAPI:a+"/user/addressList.json",submitDinnerOrderAPI:a+"/orderall/tradeBilling.json",orderedDishBenefitAPI:a+"/marketplan/dishPrivilegeList.json",wholeOrderBenefitAPI:a+"/marketplan/multiDishPrivilegeInfo.json",individualAPI:a+"/user/individual.json",individualviewAPI:a+"/user/individualView.json",freePaymentCodeAPI:a+"/member/noPwdPayCode.json",logoutAPI:a+"/user/logout.json",individualupdateAPI:a+"/user/individualUpdate.json",getUserAddressListAPI:a+"/user/getAddressList.json",getAllAddressListAPI:a+"/user/addressList.json",customerAddressAPI:a+"/user/address.json",saveAddressAPI:a+"/user/saveAddress.json",deleteAddressAPI:a+"/user/delAddress.json",getOrderAddressInfoAPI:a+"/user/getAddressInfo.json",submitTSOrderCartAPI:a+"/orderall/subOrderDinner.json",placeCheckOrderAPI:a+"/place/placeCheckOrder.json",userLoginAPI:a+"/user/login.json",userLoginWXURL:a+"/user/login4WX",userLoginAlipayURL:a+"/user/login4Alipay",aliapiAuthURL:a+"/aliapi/authByAlipay",getUserLoginSupportAPI:a+"/user/supportTypes.json",getServiceStatusHaveTableAPI:a+"/orderall/serviceStatusHaveTable.json",getServiceStatusNoTableAPI:a+"/orderall/serviceStatusNoTable.json",getIsShowButtonAPI:a+"/orderall/isShowButton.json",getTableInfoAPI:a+"/orderall/tableInfo.json",getOtherTableIdAPI:a+"/orderall/getTableId.json",getOrderTableTypeAPI:a+"/orderall/orderTableType.json",callServiceAPI:a+"/orderall/callService.json",memberIndexAPI:a+"/member/index.json",grownLevelxAPI:a+"/member/customerLevel.json",getCouponListAPI:a+"/coupon/getCouponList.json",getMoreTSDishesURL:a+"/orderall/selectDish",getMoreWMDishesURL:a+"/takeaway/selectDish",bookingURL:a+"/booking/book",queueInfoURL:a+"/queue/info",shopTSListURL:a+"/shop/list",shopWMListURL:a+"/shop/wmList",orderDetailUncheck:a+"/order/tradeDetailUncheck",cooksListAPI:a+"/cook/cookList.json",editUserAddressURL:a+"/user/address",brandIndexURL:a+"/brand/index",shopDetailURL:a+"/shop/detail",mineIndexURL:a+"/user/individual",mineSettingURL:a+"/user/individualView",bindMobileURL:a+"/user/bindMobile",bindWXURL:a+"/user/bindOpenid",bindAlipayURL:a+"/user/bindAlipay",registerMemberURL:a+"/member/register",logAddressURL:a+"/user/notLogin",integralURL:a+"/member/integral",valueCardURL:a+"/member/valueCard",memberIndexURL:a+"/member/index",grownLevelxURL:a+"/member/grownLevel",growthValueURL:a+"/member/growthValue",rechargeURL:a+"/shop/recharge",orderallListURL:a+"/order/orderallList",getCouponListURL:a+"/coupon/getCouponList",addressListURL:a+"/user/addressList",modifyPwdURL:a+"/member/modifyPwd",tradeDetailUncheckURL:a+"/order/tradeDetailUncheck",dishCart4DinnerURL:a+"/orderall/dishCart4Dinner",settlement4DinnerURL:a+"/orderall/settlement4Dinner",takeout4DinnerURL:a+"/takeaway/dishBox",takeOutDetailURL:a+"/order/takeOutDetail",orderallDetailURL:a+"/order/orderallDetail",dishMenu4DinnerURL:a+"/orderall/selectDish",dishMenu4DinnerChoosePeopleURL:a+"/orderall/dishMenu4DinnerChoosePeople",changeMobileSucURL:a+"/user/changeMobileSuc",changeMobileURL:a+"/user/changeMobileInfo",valueCardDetailURL:a+"/member/valueCardDetail",cooksListURL:a+"/cook/cookList",cookPersonalIndexURL:a+"/cook/cookInfo",bookingDetailURL:a+"/booking/bookingDetail",bookCheckOrderURL:a+"/prepare/dishBoxBooking",isQueueURL:a+"/queue/queueCheck.json",queueDetailURL:a+"/queue/success",queueCheckOrderURL:a+"/prepare/dishBoxQueue",exceptionLinkURL:a+"/orderall/tableError",getDefaultSendArea:a+"/user/getDefaultSendArea.json",getOrderInLineAPI:a+"/queue/info.json",submitOrderInLineAPI:a+"/queue/add.json",checkQueueAPI:a+"/queue/queueCheck.json",placeOrderAPI:a+"/booking/book.json",getCheckTableAvaliable:a+"/booking/getTableByAreaAndNum.json",getPlaceOrderTablesAPI:a+"/booking/getTables.json",submitPlaceOrderAPI:a+"/booking/addBooking.json",checkMobileBindedAPI:a+"/user/checkMobileBinded.json",checkMobileOccupyAPI:a+"/user/checkMobileOccupy.json",sendCodeAPI:a+"/user/sendCode.json",bindPhoneAPI:a+"/user/bindMobile.json",changeMobileAPI:a+"/user/changeMobile.json",wxOauthAPI:a+"/weixinapi/weixinOauthUrl",bindWXAPI:a+"/user/bindOpenid.json",bindAlipayAPI:a+"/user/bindAlipay.json",getWXInfoAPI:a+"/user/weixinUserInfo.json",getAlipayInfoAPI:a+"/user/alipayUserInfo.json",registerInfoAPI:a+"/member/register.json",registerAPI:a+"/member/addMember.json",checkCodeAvaliableAPI:a+"/user/validMobile.json",tradeDetailUncheckAPI:a+"/order/tradeDetailUncheck.json",getWXAuthInfoAPI:a+"/weixinapi/jsApiTicket.json",getWXCardAPI:a+"/weixinapi/wxCardTicket.json",getTableIdFromQRCodeAPI:a+"/orderall/tableExt.json",getMainOrderAPI:a+"/orderall/getMainOrder.json",validBindMobileAPI:a+"/user/validBindMobile.json",validBindMobileActiveAPI:a+"/user/validBindMobileActive.json",verifyMemberCodeAPI:a+"/member/verifyMemberCode.json",validateMemberCodeAPI:a+"/member/validateMemberCode.json",aliPayEnvelopeAPI:a+"/aliapi/alipayMarketing.json",getInvoiceStatus:a+"/order/invoiceStatus.json",getBalanceInfoAPI:a+"/member/valueCard.json",getBalanceShopDetailListAPI:a+"/member/valueCardList.json",getCommercialGroupAPI:a+"/user/getCommercialGroup.json",getIntegralDetailAPI:a+"/member/integralDetail.json",getGrownDetailAPI:a+"/member/grownDetail.json",getGrownLevelsAPI:a+"/member/grownLevel.json",getRechargeInfoAPI:a+"/shop/recharge.json",addRechargeAPI:a+"/member/addRecharge.json",rechargeShopListAPI:a+"/shop/allShopList.json",indexAPI:a+"/brand/index.json",brandShopList:a+"/shop/brandShopList.json",modifyPwd:a+"/member/modifyPwd.json",resetPassword:a+"/member/resetPassword.json",getResetPasswordUserInfoAPI:a+"/member/resetPwd.json",cancelQueueAPI:a+"/queue/cancel.json",supportBusinessTypesAPI:a+"/order/supportBusinessTypes.json",orderListAPI:a+"/order/orderallList.json",takeOutListAPI:a+"/order/takeOutList.json",bookListAPI:a+"/order/bookingList.json",queueListAPI:a+"/queue/queueList.json",getDinnerDetailAPI:a+"/order/orderallDetail.json",getDishMarketInfosAPI:a+"/orderall/dishMarketInfos.json",saveMarkRecordAPI:a+"/order/saveMarkRecord.json",getRemindOrderAPI:a+"/takeaway/remindOrder.json",getBookDetailAPI:a+"/booking/bookingDetail.json",getQueueDetailAPI:a+"/queue/success.json",bookingMyPreOrderAPI:a+"/prepare/myPreOrder.json",queueMyPreOrderAPI:a+"/prepare/myPreOrder.json",bookingSubOrderAPI:a+"/prepare/subOrder.json",queueSubOrderAPI:a+"/prepare/subOrder.json",getTakeoutDetailAPI:a+"/order/takeOutDetail.json",getCurrIntegralRuleAPI:a+"/member/currIntegralRule.json",getCurrGrownRuleAPI:a+"/member/currGrownRule.json",getPosLoginInfoAPI:a+"/user/loginPosScanCode.json",loginWxByPosAPI:a+"/user/loginWxByPos.json",getPayDetailAPI:a+"/shop/payDetail.json",baiduPayAPI:a+"/pay/baiduPay.json",weixinPayAPI:a+"/pay/weixinPay.json",balancePayAPI:a+"/pay/valueCardPay.json",balancePayBrandAPI:a+"/pay/qrcodeValueCardPay.json",aliPayAPI:a+"/pay/aliPay.json",alipayJsAPI:a+"/pay/alipayJsapi.json",cancelOrderAPI:a+"/order/tradeCancel.json",shopListTSAPI:a+"/shop/list.json",shopListTSNearAPI:a+"/shop/nearByShopList.json",nearShopListAPI:a+"/shop/nearShopList.json",takeawayAllShopListAPI:a+"/shop/takeawayAllShopList.json",takeawayInfoAPI:a+"/shop/takeawayInfo.json",fetchCouponAPI:a+"/coupon/fetchCoupon.json",fakeSocketDataAPI:a+"/fakeSocketData.json",shareCouponPage:a+"/coupon/queryMarketSharePage",getShareCouponPage:a+"/coupon/getShareCouponPage",queryMarketShareAPI:a+"/coupon/queryMarketShare.json",shareCouponEventAPI:a+"/coupon/shareEvent.json",shareCreateCoupInstanceAPI:a+"/coupon/shareCreateCoupInstance.json",dishMenu4DinnerChoosePeopleAPI:a+"/orderall/dishMenu4DinnerChoosePeople.json",shareRandomPriviledgeAPI:a+"/marketplan/shareRandomPriviledge.json",shareSuccessAPI:a+"/orderall/shareSuccess.json",rewardIndexAPI:a+"/reward/index.json",cookIndexAPI:a+"/cook/cookInfo.json",cityListAPI:a+"/shop/cityList.json",requestOptions:i,syncOrderDinnerSocketUrl:s,apiBase:a}},31:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),r(21),r(22);var o=r(1),a=n(o),i=r(11),s=n(i),u=r(6),c=r(7),l=r(18),d=n(l),p=r(14),f=n(p),m=r(19);n(m);(0,f.default)();var h=function(e,t){if(!t||"function"!=typeof t)return void s.default.render(e,document.getElementById("app-placeholder"));var r=(0,u.compose)((0,u.applyMiddleware)(d.default))(u.createStore)(t);s.default.render(a.default.createElement(c.Provider,{store:r},e),document.getElementById("app-placeholder"))};t.default=h},393:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(394),r(91);var u=r(1),c=n(u),l=r(71),d=n(l),p=r(13),f=n(p),m=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onTouchStart=r.onTouchStart.bind(r),r.onTouchEnd=r.onTouchEnd.bind(r),r}return i(t,e),s(t,[{key:"onTouchStart",value:function(){this.mySwiper.stopAutoplay()}},{key:"onTouchEnd",value:function(){var e=this;setTimeout(function(){e.mySwiper.startAutoplay()},500)}},{key:"render",value:function(){var e=this,t=this.props.imgSize,r=0===t?"https://wx.keruyun.net/wx-ui/prod/static/dist-c99515412be8241b8778/37.4vw":"130px",n=this.props.shopIntroImgs.map(function(e,n){return void 0===t?c.default.createElement("div",{key:n,className:"o-pl o-pr o-pt o-pb"},c.default.createElement(f.default,{src:e.link,alt:"",style:{height:r}})):0!==t||c.default.createElement("div",{key:n,className:"o-pl o-pr o-pt o-pb"},c.default.createElement("a",{href:e.url,style:{background:"#fff"}},c.default.createElement(f.default,{src:e.imgUrl,alt:"",style:{height:r}})))}),o=1===this.props.shopIntroImgs.length?".swiper-pagination .dis-none":".swiper-pagination",a=document.createEvent("HTMLEvents");return a.initEvent("resize",!0,!0),document.dispatchEvent(a),c.default.createElement("div",{className:"shop-swiper"},c.default.createElement(d.default,{pagination:o,paginationClickable:!0,autoplay:2500,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,onInit:function(t){return e.mySwiper=t}},n))}}]),t}(c.default.Component);m.propTypes={shopIntroImgs:c.default.PropTypes.array,imgSize:c.default.PropTypes.number},t.default=m},394:function(e,t){},395:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(396),r(9);var u=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=r(4),d=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.openShopList=r.openShopList.bind(r),r}return i(t,e),s(t,[{key:"setEmptyBlocks",value:function(){var e=0,t=[];e=(this.props.menuList.length-3)%3==2?1:(this.props.menuList.length-3)%3==1?2:0;for(var r=0;r<e;r++)t.push(c.default.createElement("div",{className:"item",key:r},c.default.createElement("a",null)));return t}},{key:"openShopList",value:function(e,t){e.preventDefault();var r=t.link;return"PD"===t.uniqueId&&0!==this.props.brandMenu?void this.props.getCheckQueue():r?void(location.href=r):void 0}},{key:"render",value:function(){var e=this,t=this.setEmptyBlocks(),r=this.props.shopHomeScan;return c.default.createElement("div",{className:"menu-list"},this.props.menuList.map(function(t,o){return c.default.createElement("div",{className:l("item",{"item--modify":!!r}),key:o},c.default.createElement("a",{href:" javascript:void(0)",onTouchTap:function(r){return e.openShopList(r,t)}},c.default.createElement("i",{className:l("icon icon-"+t.uniqueId,n({},"icon-"+t.uniqueId+"--modify",!!r))}),c.default.createElement("span",null,t.name)))}),t)}}]),t}(c.default.Component);d.propTypes={menuList:c.default.PropTypes.array,shopDetail:c.default.PropTypes.object,getCheckQueue:c.default.PropTypes.func,brandMenu:c.default.PropTypes.number,shopHomeScan:c.default.PropTypes.bool},t.default=d},396:function(e,t){},4:function(e,t,r){e.exports=r(0)(326)},5:function(e,t,r){"use strict";var n=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t.getUrlParam=function(e){var t=window.location.search.replace(/\?/g,"");if(!t)return null;var r=t.split("&");if(!r.length)return null;var o={};return r.forEach(function(e){var t=e.split("=");if(2===t.length){var r=n(t,2),a=r[0],i=r[1];o[a]=i}}),o[e]||null},a=t.isSingleDishWithoutProps=function(e){if(1===e.type)return!1;var t=e.dishPropertyTypeInfos||[];return!(e.dishIngredientInfos||[]).length&&(!t.length||t.every(function(e){return 4===e.type||2===e.type}))},i=t.isGroupDish=function(e){return void 0!==e.groups};t.isChildDish=function(e){return e.isChildDish};var s=t.getOrderedDishes=function(e){return e.filter(function(e){return!(void 0===e.order)||e.order&&e.order.length})},u=t.getDishesCount=function(e){return e.map(function(e){return void 0!==e.order?a(e)?e.order:e.order.map(function(e){return e.count}).reduce(function(e,t){return e+t},0):0}).reduce(function(e,t){return e+t},0)},c=t.getOrderPrice=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=1===e.saleType;if(i(e)){var s=0,u=[].concat.apply([],(t.groups||[]).map(function(e){return e.childInfos.filter(function(e){return e.order}).map(function(e){return a(e)?e.marketPrice*e.order:parseFloat(e.order.map(function(t){return c(e,t,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s+=t,e-t},n)}).reduce(function(e,t){return e+t},0))})}));return(t.count*(e.marketPrice+parseFloat(u.reduce(function(e,t){return Math.max(e,0)+Math.max(t,0)},0)))+s).toFixed(2)}var l=t.dishPropertyTypeInfos.filter(function(e){return 3!==e.type}),d=t.dishIngredientInfos||[],p=[].concat.apply([],l.map(function(e){return(e.properties||[]).filter(function(e){return e.isChecked}).map(function(e){return e.reprice})})),f=[].concat.apply([],d.filter(function(e){return e.isChecked}).map(function(e){return e.reprice*(e.num||1)})),m=0,h=0,M=parseFloat(f.reduce(function(e,t){return e+t},0));return o?(m=t.count*(e.marketPrice+p.reduce(function(e,t){return e+t},0)),h=M,m+=M):m=t.count*Math.max(e.marketPrice+parseFloat(p.reduce(function(e,t){return e+t},0))+M,0),m=parseFloat(m.toFixed(2),10),r?r(m,h):Math.max(m,0)},l=t.getDishPrice=function(e,t){if(a(e)){var r=parseFloat((e.marketPrice*e.order).toFixed(2));return r>=0?r:0}var n=e.order.map(function(r){return parseFloat(c(e,r,null,t))}).reduce(function(e,t){return e+t},0);return n>=0?n:0};t.getDishesPrice=function(e,t){var r=e.map(function(e){return l(e,t)}).reduce(function(e,t){return e+t},0);return isFinite(r)&&Math.floor(r)===r?r:parseFloat(r.toFixed(2))};var d=function(e){return a(e)?Math.max(0,e.marketPrice*e.order):(e.order||[]).map(function(t){return e.marketPrice*t.count}).reduce(function(e,t){return e+t},0)};t.getDishesMarketPrice=function(e){var t=(e||[]).map(function(e){return d(e)}).reduce(function(e,t){return e+t},0);return parseFloat(t.toFixed(2),10)},t.getNewCountOfDish=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=0;if(a(e))n=void 0===e.order?r.order||e.dishIncreaseUnit:e.order+t<e.dishIncreaseUnit?void 0:e.order+t,n=n<=0?void 0:n;else{var o=u([e]);n=0===o?e.dishIncreaseUnit:o+t<e.dishIncreaseUnit?0:o+t}return n};var p=function(e){var t=e.dishPropertyTypeInfos,r=e.dishIngredientInfos;return[[].concat.apply([],t.map(function(e){return e.properties.filter(function(e){return e.isChecked}).map(function(e){return e.id})})),(r||[]).filter(function(e){return e.isChecked}).map(function(e){return e.id})]},f=function(e){var t=[];return e.dishPropertyTypeInfos.map(function(e){return e.properties.map(function(e){return t.push(e.id)})}),t.join("^")},m=t.getDishBoxCount=function(e){var t=[];return e.map(function(e){return i(e)?e.order.map(function(e){var r=e.count;e.groups.map(function(e){return e.childInfos.filter(function(e){return e.order}).map(function(e){return!(!e.boxQty||!e.dishQty)&&(t.push(Math.ceil(u([e])/parseFloat(e.dishQty))*parseFloat(e.boxQty)*r),!0)})})}):e.boxQty&&e.dishQty&&t.push(Math.ceil(u([e])/parseFloat(e.dishQty))*parseFloat(e.boxQty)),!0}),t.reduce(function(e,t){return e+t},0)};t.getDishBoxprice=function(e,t){return t&&1===t.orderFlag?m(e)*t.content:0};var h=t.hasSelectedProps=function(e){var t=n(e.order,1),r=t[0],o=(r.dishPropertyTypeInfos||[]).some(function(e){return 4!==e.type&&2!==e.type&&(e.properties||[]).some(function(e){return e.isChecked})}),a=(r.dishIngredientInfos||[]).some(function(e){return e.isChecked});return!(!o&&!a)},M=t.setCookie=function(e,t){var r=new Date;r.setTime(r.getTime()+2592e6),document.cookie=e+"="+t+";expires="+r.toGMTString()+";path=/"},I=t.getDishCookieObject=function(e,t){var r=!i(e),n=o("type"),s=o("shopId"),c=e.id,l=e.marketPrice,d=a(e)?u([e]):e.order[t].count;if(r){var m=null;return m=a(e)?e.dishPropertyTypeInfos&&e.dishPropertyTypeInfos.length?"-"+f(e):"-":p(e.order[t])[1].join("^")+"-"+p(e.order[t])[0].join("^"),{key:n+"_"+s+"_"+c+"_"+c+"|1-"+m,value:d+"|"+l}}var h=[].concat.apply([],e.order[t].groups.map(function(e){var t=e.id,r=e.childInfos.filter(function(e){return u([e])}).map(function(e){var r=null;return r=a(e)?e.dishPropertyTypeInfos&&e.dishPropertyTypeInfos.length?"-"+f(e):"-":p(e.order[0])[1].join("^")+"-"+p(e.order[0])[0].join("^"),e.id+"A"+t+"|"+u([e])+"-"+r});return[].concat.apply([],r)}));return{key:n+"_"+s+"_"+c+"_"+(h.join("#")&&""!==h.join("#")?h.join("#"):c+"|1--"),value:d+"|"+l}};t.storeDishesLocalStorage=function(e,t,r){var n={shopId:o("shopId"),shopName:t.commercialName||"",type:o("type"),expires:Date.now()+864e5,dishes:r?r(e):s(e)};localStorage.lastOrderedDishes=JSON.stringify(n)};var y=t.clearDishesLocalStorage=function(){localStorage.removeItem("lastOrderedDishes")};t.restoreDishesLocalStorage=function(e){var t=JSON.parse(localStorage.getItem("lastOrderedDishes")||"{}");if(t.hasOwnProperty("shopId")&&t.hasOwnProperty("type")){var r=t.shopId,n=t.type;r===o("shopId")&&n===o("type")&&t.expires>Date.now()?e.dishList.forEach(function(e){var r=t.dishes.findIndex(function(t){return t.id===e.id});r>-1&&(e.order=t.dishes[r].order)}):y()}return e},t.getDishesLocalStorage=function(e){var t=e.shopId,r=e.type,n=JSON.parse(localStorage.getItem("lastOrderedDishes")||"{}");return n.shopId===t&&n.type===r?n:null},t.isShopOpen=function(e){function t(e){return e<10?"0"+e:e}var r=new Date,n=t(r.getHours())+":"+t(r.getMinutes()),o=!1;return e.forEach(function(e,t){n>=e.startTime&&n<=e.endTime&&!o&&(o=!0)}),o},t.setDishCookie=function(e,t){t.map(function(e){if(!a(e)){for(var t in e.order){var r=I(e,t);M(r.key,r.value)}return!0}var n=I(e,0);return M(n.key,n.value)})},t.deleteOldDishCookie=function(){var e=document.cookie.match(/(WM|TS).+?((?=;)|$)/g);e&&e.length&&e.forEach(function(e){var t=new Date;t.setTime(t.getTime()-1e4),document.cookie=e+"=a; expires="+t.toGMTString()+"; path=/"})},t.generateDishNameWithUnit=function(e,t){if(Array.isArray(e.dishPropertyTypeInfos)&&e.dishPropertyTypeInfos.length){var r=e.dishPropertyTypeInfos.filter(function(e){return 4===e.type});if(r.length){var o=r.map(function(e){var t=n(e.properties,1),r=t[0];return r&&r.name}).join(", ");switch(t){case"dishMenu":return"份"!==e.unitName?e.name+"("+o+")/"+e.unitName:e.name+"("+o+")";default:return e.name+"("+o+")"}}switch(t){case"dishMenu":return"份"!==e.unitName?e.name+"/"+e.unitName:e.name;default:return e.name}}switch(t){case"dishMenu":return"份"!==e.unitName?e.name+"/"+e.unitName:e.name;default:return e.name}},t.formatOpenTime=function(e){var t="";if(e&&Array.isArray(e)&&0!==e.length){var r=[].slice.call(e),n="",o=[];e.forEach(function(e,a){if(r.splice(0,1),-1===o.indexOf(a)){var i=e.startTime,s=e.endTime;r.forEach(function(e,t){switch(!0){case e.startTime<=s&&e.startTime>=i:e.endTime>=s&&(s=e.endTime),o.push(t+a+1);break;case e.startTime<=i:e.endTime>=i&&e.endTime<=s?(i=e.startTime,o.push(t+a+1)):e.endTime>=s&&(i=e.startTime,s=e.endTime,o.push(t+a+1))}}),n=i.slice(0,5)+"-"+s.slice(0,5),t+=n+" "}})}return t},t.formatMarket=function(e,t){var r={};return e.forEach(function(e,n){var o=e.dishId;e.rules&&0!==e.rules.length&&t[o]&&(r[o]=e.rules)}),r},t.formatMarketUpdate=function(e,t){var r=[];return e.forEach(function(e,n){var o=e.dishId;e.rules&&0!==e.rules.length&&t[o]&&e.rules.forEach(function(e,t){r.push(e)})}),r.sort(function(e,t){return t.updateTime>e.updateTime?1:t.updateTime===e.updateTime?0:-1})},t.formatDishesData=function(e){var t={};return e.forEach(function(e,r){t[e.brandDishId]=e}),t},t.matchDishesData=function(e,t){var r=!1;return e.forEach(function(e,n){t[e.dishId]&&(r=!0)}),r},t.mergeSameRuleDish=function(e,t){if(!e||!e.length)return{dishList:[],dishTypeList:t};var r=[],n={},o=function(e){return e.dishPropertyTypeInfos.filter(function(e){return 4===e.type}).map(function(e){return e.properties[0].id}).sort().join("-")};e.forEach(function(e,t){if(1===e.saleType&&Object.assign(e,{stepNum:1,dishIncreaseUnit:1}),i(e))return void r.push(e);var o=e.dishPropertyTypeInfos.filter(function(e){return 4===e.type}).map(function(e){var t=e.properties&&e.properties[0];return t&&(t.isChecked=!0),e.id}).join("-"),a=e.name+"-"+e.unitName+"-"+e.dishTypeId+"-"+o;n[a]=(n[a]||[]).concat([t]),r.push(e)});for(var a in n){(function(t){if(!n.hasOwnProperty(t))return"continue";var a=n[t];if(a.length<=1)return"continue";var i=[];a.forEach(function(t){var r=e[t];r.ruleFlag=o(r),i.push(r.marketPrice)});var s=Math.min.apply(null,i),u=Math.max.apply(null,i),c="";a.forEach(function(e,t){var n=r[e];if(0===t)return c=n.id,void Object.assign(n,{sameDishIndexs:a,mergedMinPrice:s===u?void 0:s});Object.assign(n,{proxyDishId:c})})})(a)}return{dishList:r,dishTypeList:t}},t.organizeDishData=function(e){var t={};t.id=e.id,t.name=e.name,t.dishTypeId=e.dishTypeId,t.brandDishId=e.brandDishId,t.type=e.type,t.marketPrice=e.marketPrice,t.unitName=e.unitName,t.dishIncreaseUnit=e.dishIncreaseUnit,t.stepNum=e.stepNum,t.dishTypeName="默认分类",t.dishTypeOrder=0,t.saleType=e.saleType,t.proxyDishId=e.proxyDishId;var r=function(e){return e&&e.length?e.map(function(e){var t=e.name,r=e.type;return{id:e.id,name:t,type:r,properties:e.properties.filter(function(e){return e.isChecked})}}):[]};JSON.parse(sessionStorage.dishTypeList||"[]").forEach(function(r){r.id===e.dishTypeId&&(t.dishTypeName=r.name,t.dishTypeOrder=0)});var o=function(e){return(e||[]).filter(function(e){return e.isChecked})};if(a(e))t.num=e.order,t.propertyTypeList=e.dishPropertyTypeInfos||[],t.dishIngredientInfos=e.dishIngredientInfos||[];else if(i(e)){var s=n(e.order,1),c=s[0];t.num=c.count,t.subDishItems=[],c.groups.forEach(function(e){e.childInfos.forEach(function(n){if(n.order){var a=u([n]);if(a)if("number"!=typeof n.order)n.order.map(function(a){if(0===a.count)return!1;var i={};return i.groupId=e.id,i.itemId=n.id,i.name=n.name,i.marketPrice=n.marketPrice,i.unitName=n.unitName,i.num=a.count,i.propertyTypeList=r(a.dishPropertyTypeInfos||[]),i.dishIngredientInfos=o(a.dishIngredientInfos||[]),t.subDishItems.push(i),!0});else{var i={};i.groupId=e.id,i.num=a,i.itemId=n.id,i.name=n.name,i.marketPrice=n.marketPrice,i.unitName=n.unitName,i.propertyTypeList=r(n.dishPropertyTypeInfos||[]),i.dishIngredientInfos=o(n.dishIngredientInfos||[]),t.subDishItems.push(i)}}})})}else{var l=n(e.order,1),d=l[0];t.num=d.count,t.propertyTypeList=r(d.dishPropertyTypeInfos),t.dishIngredientInfos=o(d.dishIngredientInfos)}var p=new Date;return Object.assign({},t,{tag:p.getTime()})},t.adjustOrderedDishIncrement=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a(e)){var n=e.order||r.order||0,o=e.dishIncreaseUnit,i=void 0===o?1:o,s=e.stepNum,u=void 0===s?1:s;if(t>0&&0===n)return t===u?i:t;var c=n+t;if(c<=0)return-n;if(c<i)return i*(Math.abs(t)/t)}return t};var g=t.getDishMemberPrice=function(e){var t=e.marketPrice,r=e.discountType;if(!e.isMember)return 0;var n=0;return 1===r?n=t*(e.memberPrice||0)*.1:2===r&&(n=e.memberPrice||0),+n.toFixed(2)};t.getDishMemberPriceWithSameRuleDishes=function(e,t){if(!t)return g(e);var r=[];return t.forEach(function(t){e.marketPrice===t.marketPrice&&t.isMember&&r.push(g(t))}),Math.min.apply(null,r)},t.containsSubPropertyDetail=function(e){if(a(e))return!1;if(!i(e))return h(e);var t=e.order||[],r=n(t,1),o=r[0];if(!o)return!1;var s=o.groups;return(void 0===s?[]:s).some(function(e){return e.childInfos.some(function(e){return u([e])>0})})};var A={queue:[],current:null},j=t.ballFlyWhenOrderDish=function(e){if(void 0===A.isSingle&&(A.isSingle=-1!==navigator.userAgent.toLowerCase().indexOf("android")),A.isSingle&&A.current)return void(A.queue=[e]);A.current=e;var t=Object.assign({vertexRtop:20,speed:2.8,start:{},end:{}},e),r=function(){A.current=null,t.elem.parentNode.removeChild(t.elem),t.elem=null},n=function(){var e=A.queue.shift();e&&j(e)};!function(){document.body.insertAdjacentHTML("beforeend","<ins class='"+(t.className||"")+"'></ins>"),t.elem=document.body.lastChild;var e=t.start,r=t.end,n=t.vertexRtop,o=Math.min(e.top,r.top)-Math.abs(e.left-r.left)/13;o<n&&(o=Math.min(n,Math.min(e.top,r.top)));var a=Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2)),i=Math.ceil(Math.min(Math.max(Math.log(a)/.05-75,30),100)/t.speed),s=e.top===o?0:-Math.sqrt((r.top-o)/(e.top-o)),u=(s*e.left-r.left)/(s-1),c=r.left===u?0:(r.top-o)/Math.pow(r.left-u,2);Object.assign(t,{count:-1,steps:i,vertexLeft:u,vertexTop:o,curvature:c}),Object.assign(t.elem.style,{left:t.start.left+"px",top:t.start.top+"px"})}(),function e(){var o=t.start,a=t.steps,i=t.count,s=t.end,u=o.left+(s.left-o.left)*i/a,c=0===t.curvature?o.top+(s.top-o.top)*i/a:t.curvature*Math.pow(u-t.vertexLeft,2)+t.vertexTop;t.elem.style.transform="translate("+(u-o.left)+"px,"+(c-o.top)+"px)",t.count++;var l=window.requestAnimationFrame(e);i===a&&(window.cancelAnimationFrame(l),r(),n(),t.onEnd&&setTimeout(function(){t.onEnd()},20))}()};t.divideOrderedDishes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};return[].concat.apply([],e.map(function(e){return a(e)?[Object.assign({},e,t(e))]:e.order.map(function(r,n){return Object.assign({},e,t(e),{order:[Object.assign({},r)]})})}))},t.uniqueDiscountInfo=function(e){var t=[],r={};return(e||[]).forEach(function(e){var n=e.dishId;r.hasOwnProperty(n)||(r[n]=!0,t.push(e))}),t}},50:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDAgKDMzNzYyKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7llYbpk7psb2dvPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWVhumTumxvZ28iPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTUtQ29weSIgZmlsbD0iI0U2RTZFNiIgeD0iMCIgeT0iMCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiPjwvcmVjdD4KICAgICAgICAgICAgPHBhdGggZD0iTTQxMi4wOTY3NzQsMjA2LjYxMjkwMyBDNDEyLjAzNDc1OSwyMDYuMjE2MjM2IDQxMS45NzM1MTksMjA2LjA5NDI5MyA0MTIuMDk2Nzc0LDIwNS42MTI5MDMgQzQxMS44NTEwMzgsMjA1LjI0MDY5NSA0MTEuNjY3MzE3LDIwNC42MzA5ODIgNDExLjA5Njc3NCwyMDMuNjEyOTAzIEwzODUuMDk2Nzc0LDEzNy42MTI5MDMgQzM4MC4wNjczMTcsMTI0LjE0ODg4MyAzNjcuMjY4MDkyLDExNS42MTI5MDMgMzUxLjA5Njc3NCwxMTUuNjEyOTAzIEwxNjQuMDk2Nzc0LDExNS42MTI5MDMgQzE0OC4wMjc3ODIsMTE1LjYxMjkwMyAxMzUuNzc5NzIsMTIzLjk2NTk2OSAxMzEuMDk2Nzc0LDEzNy42MTI5MDMgTDEwMy4wOTY3NzQsMjA0LjYxMjkwMyBDMTAyLjUyNjIzMiwyMDUuMTE4NzUyIDEwMi4zNDI1MTEsMjA1LjY2NzQ5NCAxMDIuMDk2Nzc0LDIwNi42MTI5MDMgQzEwMC4xMzc4NiwyMTIuNjc5MTkyIDk5LjA5Njc3NDIsMjE5LjIwMzExOSA5OS4wOTY3NzQyLDIyNS42MTI5MDMgQzk5LjA5Njc3NDIsMjQ4Ljg5NjEzNiAxMTEuODM0NzU5LDI2OS45OTIyMDEgMTMyLjA5Njc3NCwyODAuNjEyOTAzIEMxNDAuNjc4OTQ1LDI4NS4zNTY5NjYgMTUwLjU5OTg3NSwyODcuNjEyOTAzIDE2Mi4wOTY3NzQsMjg3LjYxMjkwMyBDMTYxLjc0NTYxMSwyODcuNjEyOTAzIDE2MS43NDU2MTEsMjg3LjYxMjkwMyAxNjIuMDk2Nzc0LDI4Ny42MTI5MDMgQzE4MC40ODUxNDYsMjg3LjU1MTkzMiAxOTcuODE2MTU0LDI3OS4zODE3NzkgMjEwLjA5Njc3NCwyNjUuNjEyOTAzIEMyMjEuMzkzNjczLDI3OS4zMjA4MDggMjM4LjU0MDk2LDI4Ny40Mjk5ODkgMjU3LjA5Njc3NCwyODcuNjEyOTAzIEMyNzUuNzEzODI4LDI4Ny40Mjk5ODkgMjkyLjg2MTExNSwyNzkuMjU5ODM3IDMwNC4wOTY3NzQsMjY1LjYxMjkwMyBDMzE2LjM3NzM5NCwyNzkuMzgxNzc5IDMzMy43MDg0MDIsMjg3LjQ5MDk2MSAzNTIuMDk2Nzc0LDI4Ny42MTI5MDMgQzM2My44OTk4NzUsMjg3LjQyOTk4OSAzNzMuOTQzMjg2LDI4NS4wNTIxMDkgMzgyLjA5Njc3NCwyODAuNjEyOTAzIEM0MDIuNjAzNzUxLDI2OS40NDM0NiA0MTUuMDk2Nzc0LDI0OC40NjkzMzcgNDE1LjA5Njc3NCwyMjUuNjEyOTAzIEM0MTUuMDk2Nzc1LDIxOC45NTkyMzQgNDEzLjk5NDQ0OSwyMTIuMzc0MzM2IDQxMi4wOTY3NzQsMjA2LjYxMjkwMyBMNDEyLjA5Njc3NCwyMDYuNjEyOTAzIFogTTE2MC4wODY5NTcsMjE3LjYxMjkwMyBDMTU2LjE1MTc3NCwyMTcuNjEyOTAzIDE1Mi43NzQxOTQsMjE0LjIwMTM1MyAxNTIuNzc0MTk0LDIxMC4zMDAxNCBDMTUyLjc3NDE5NCwyMDUuNzM0MTMxIDE1Ni4xNTE3NzMsMjAyLjMyMjU4MSAxNjAuMDg2OTU3LDIwMi4zMjI1ODEgTDI1OC4wNzcxMzksMjAyLjMyMjU4MSBMMzU2LjA2NzMyMSwyMDIuMzIyNTgxIEMzNjAuMDAyNTA0LDIwMi4zMjI1ODEgMzYzLjM4MDA4NCwyMDUuNzM0MTMxIDM2My4zODAwODQsMjEwLjMwMDE0IEMzNjMuMzgwMDg0LDIxNC4yMDEzNTMgMzU5Ljk2MTgxMSwyMTcuNjEyOTAzIDM1Ni4wNjczMjEsMjE3LjYxMjkwMyBMMTYwLjA4Njk1NywyMTcuNjEyOTAzIFogTTM5Mi4wOTY3NzQsMzA4LjYxMjkwMyBDMzkyLjAzNTQ5NSwzMDIuMDEzNjYgMzg2Ljk0OTMsMjk2Ljk0MTE4OSAzODEuMDk2Nzc0LDI5Ni42MTI5MDMgQzM3OS40NzMyMDUsMjk2Ljk0MTE4OSAzNzguNDMxNDU0LDI5Ny4yNDY3NTkgMzc3LjA5Njc3NCwyOTcuNjEyOTAzIEwzNzcuMDk2Nzc0LDI5Ny42MTI5MDMgQzM2OC44NzE4NTgsMzAwLjk3NDcyIDM1OC4wODY2NzMsMzAyLjc0NzAyOSAzNTAuMDk2Nzc0LDMwMi42MTI5MDMgQzMzMS45ODE2MjMsMzAxLjM0MTQwNSAzMTguMjU1MDIzLDI5Ny43OTY3ODYgMzA1LjA5Njc3NCwyODYuNjEyOTAzIEMyOTIuMDg4Njk0LDI5Ny42NzQ1NTggMjc1LjQ4MTk2LDMwMy45NjkzMTIgMjU4LjA5Njc3NCwzMDQuNjEyOTAzIEMyMzkuOTM5ODcyLDMwNC4wMzA0MjYgMjIzLjIxMDU3OSwyOTkuNTY5MDk2IDIxMC4wOTY3NzQsMjg4LjYxMjkwMyBDMTk2Ljk4Mjk3LDI5OS42MzAyMSAxODAuMTkyMzk3LDMwNS4wNjkzNjYgMTYyLjA5Njc3NCwzMDQuNjEyOTAzIEwxNjIuMDk2Nzc0LDMwNC42MTI5MDMgQzE1MS4zMjk3NzEsMzA1LjA2OTM2NiAxNDUuMTQwNTQ2LDMwMi45OTE0ODYgMTM1LjA5Njc3NCwyOTkuNjEyOTAzIEMxMzQuOTY4MTU1LDI5OS4yMDI0MTEgMTM0LjY2MTc1OCwyOTkuMTQxMjk3IDEzNC4wOTY3NzQsMjk4LjYxMjkwMyBDMTMzLjg2NTEyNCwyOTguODM1NzI3IDEzMy40OTc0NDgsMjk4LjcxMzQ5OCAxMzMuMDk2Nzc0LDI5OC42MTI5MDMgQzEzMy4wMDcyMTIsMjk4LjUzMDE1NiAxMzEuMzUyNjY3LDI5OC4yMjQ1ODUgMTMwLjA5Njc3NCwyOTguNjEyOTAzIEMxMzAuNDk0NzU0LDI5OC4yMjQ1ODUgMTMwLjQ5NDc1NCwyOTguMjI0NTg1IDEzMC4wOTY3NzQsMjk4LjYxMjkwMyBDMTI0LjE4Mjk3LDI5OC4yMjQ1ODUgMTE5LjA5Njc3NCwzMDMuMzU4MTcxIDExOS4wOTY3NzQsMzA5LjYxMjkwMyBMMTE5LjA5Njc3NCwzNzAuNjEyOTAzIEMxMTkuMTU4MDU0LDM4Ni41MzQ0ODIgMTMyLjI3MTg1OCwzOTkuNjEyOTAzIDE0OC4wOTY3NzQsMzk5LjYxMjkwMyBMMzYzLjA5Njc3NCwzOTkuNjEyOTAzIEMzNzguOTgyOTY5LDM5OS40Mjk1NjEgMzkyLjA5Njc3NCwzODYuMzUxMTQgMzkyLjA5Njc3NCwzNzAuNjEyOTAzIEwzOTIuMDk2Nzc0LDMwOC42MTI5MDMgTDM5Mi4wOTY3NzQsMzA4LjYxMjkwMyBaIiBpZD0iU2hhcGUiIGZpbGw9IiNDOUM5QzkiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},6:function(e,t,r){e.exports=r(0)(128)},7:function(e,t,r){e.exports=r(0)(225)},71:function(e,t,r){e.exports=r(0)(329)},8:function(e,t,r){e.exports=r(0)(341)},9:function(e,t,r){e.exports=r(0)(331)},91:function(e,t){}});